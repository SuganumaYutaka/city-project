/*==============================================================================

    Texture.cpp - テクスチャ
                                                       Author : Yutaka Suganuma
                                                       Date   : 2017/4/1
==============================================================================*/

/*------------------------------------------------------------------------------
	インクルードファイル
------------------------------------------------------------------------------*/
#include "Texture.h"

/*------------------------------------------------------------------------------
	コンストラクタ
	引数
		const char* pFileName
------------------------------------------------------------------------------*/
Texture::Texture( std::string fileName)
{
	if( FAILED( D3DXCreateTextureFromFile( Manager::GetDevice(), fileName.c_str(), &m_pTexture)))
	{
		//エラー
		CHAR str[128];
		wsprintf(str, "テクスチャを読み込めません\n%s", fileName.c_str());
		MessageBox( NULL, str, "エラー", MB_OK);
		return;
	}
	FileName = fileName;
}

/*------------------------------------------------------------------------------
	デストラクタ
------------------------------------------------------------------------------*/
Texture::~Texture()
{
	if( m_pTexture != NULL){		//テクスチャインターフェイスが存在するとき
		m_pTexture->Release();		//テクスチャインターフェイスの解放
		m_pTexture = NULL;
	}
}

/*------------------------------------------------------------------------------
	テクスチャの設定
------------------------------------------------------------------------------*/
void Texture::Set( void)
{
	Manager::GetDevice()->SetTexture( 0, m_pTexture);
}